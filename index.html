<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kundenzugang</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    :root {
      --red: #ef2c30;
      --gray-bg: #f5f5f5;
      --card-bg: #fff;
      --text: #111;
      --green: #198754;
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: 'Inter', sans-serif;
      background: var(--gray-bg);
      color: var(--text);
      line-height: 1.6;
    }
    .logout-button {
      background: var(--red);
      color: #fff;
      font-weight: 600;
      font-size: 1rem;
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      transition: background 0.2s ease-in-out, transform 0.2s;
    }
    .logout-button:hover {
      background: #c12527;
      transform: translateY(-2px);
    }
    .app-header {
      background: #fff;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      z-index: 99;
    }
    .app-header img {
      height: 40px;
    }
    #sidebar-menu {
      width: 220px;
      background: #fff;
      position: fixed;
      top: 60px;
      left: 0;
      height: calc(100vh - 60px);
      box-shadow: 2px 0 8px rgba(0,0,0,0.05);
      z-index: 98;
      padding-top: 20px;
    }
    #sidebar-menu .grid-item {
      padding: 14px;
      text-align: center;
      border-bottom: 1px solid #eee;
      cursor: pointer;
      transition: background 0.3s;
    }
    #sidebar-menu .grid-item:hover {
      background: #f1f1f1;
    }
    #sidebar-menu i {
      font-size: 20px;
      color: var(--red);
    }
    #sidebar-menu span {
      display: block;
      font-size: 0.9rem;
      margin-top: 5px;
    }
    .app-container {
      margin-left: 220px;
      padding: 100px 40px 80px;
    }
    .section-content {
      background: white;
      padding: 24px;
      border-radius: 4px;
      margin-bottom: 30px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.05);
      width: 100%;
    }
    .progress-container {
      margin-top: 20px;
    }
    .progress-info {
      margin-bottom: 8px;
    }
    .progress-bar-wrapper {
      position: relative;
      background: #eee;
      border-radius: 20px;
      overflow: hidden;
      height: 20px;
    }
    .progress-bar {
      height: 100%;
      background: var(--green);
      width: 0%;
      transition: width 0.6s ease;
    }
    .progress-label {
      position: absolute;
      right: 10px;
      top: -28px;
      font-size: 0.9rem;
      color: var(--green);
      font-weight: bold;
    }
    .footer-nav {
      display: none;
    }
    @media (max-width: 768px) {
      .app-container {
        margin-left: 0;
        padding: 100px 20px 80px;
      }
      #sidebar-menu {
        display: none;
      }
      .footer-nav {
        display: flex;
        justify-content: space-around;
        align-items: center;
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background: #fff;
        box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        padding: 8px 0;
        z-index: 100;
      }
      .footer-item {
        flex: 1;
        text-align: center;
        font-size: 0.8rem;
        color: var(--text);
        cursor: pointer;
        transition: all 0.3s ease;
      }
      .footer-item i {
        font-size: 20px;
        color: var(--red);
        display: block;
        margin-bottom: 4px;
      }
      .footer-item span {
        font-size: 0.7rem;
      }
      .footer-item.active {
        transform: translateY(-6px);
        color: var(--red);
        font-weight: bold;
      }
    }
  </style>
</head>
<body>
  <div id="main-dashboard" style="display: none;">
    <div class="app-header">
      <img src="https://github.com/identverfahrensysteme/ebanking/blob/main/logo.png?raw=true" alt="Logo">
      <button class="logout-button" onclick="logout()">Abmelden</button>
    </div>

    <div id="sidebar-menu">
      <div class="grid-item" onclick="showSection('anlagekonto')"><i class="fas fa-piggy-bank"></i><span>Anlagekonto</span></div>
      <div class="grid-item" onclick="showSection('kontoinhaber')"><i class="fas fa-user"></i><span>Kontoinhaber</span></div>
      <div class="grid-item" onclick="showSection('paket')"><i class="fas fa-box"></i><span>Anlagepaket</span></div>
      <div class="grid-item" onclick="showSection('transaktionen')"><i class="fas fa-history"></i><span>Transaktionen</span></div>
      <div class="grid-item" onclick="showSection('referenzkonto')"><i class="fas fa-university"></i><span>Referenzkonto</span></div>
      <div class="grid-item" onclick="showSection('support')"><i class="fas fa-headset"></i><span>Support</span></div>
    </div>

    <div class="app-container">
      <div class="section-content" id="section-anlagekonto">
        <h3>Anlagekonto</h3>
        <p>Details zum Anlagekonto...</p>
        <div class="progress-container">
          <div class="progress-info">
            <strong>Errechnete Zinsen bisher: <span id="earned">0â€¯â‚¬</span></strong><br>
            <small>Noch <span id="days-left">0</span> Tage bis zur Zinsauszahlung</small>
          </div>
          <div class="progress-bar-wrapper">
            <div id="progress-fill" class="progress-bar"></div>
            <div id="progress-percent" class="progress-label">0%</div>
          </div>
        </div>
      </div>
      <div class="section-content" id="section-kontoinhaber" style="display:none;">
        <h3>Kontoinhaber</h3>
        <p>Max Mustermann<br>Geburtsdatum: 01.01.1980<br>Adresse: MusterstraÃŸe 1, 12345 Musterstadt</p>
      </div>
      <div class="section-content" id="section-paket" style="display:none;">
        <h3>Anlagepaket</h3>
        <p>Festgeld 12 Monate<br>Zinssatz: 4,95â€¯% p.a.<br>Anlagebetrag: 50.000â€¯â‚¬</p>
      </div>
      <div class="section-content" id="section-transaktionen" style="display:none;">
        <h3>Transaktionen</h3>
        <ul>
          <li>01.04.2025 â€“ Einzahlung 50.000â€¯â‚¬</li>
          <li>01.05.2025 â€“ Zinsgutschrift 206,25â€¯â‚¬</li>
        </ul>
      </div>
      <div class="section-content" id="section-referenzkonto" style="display:none;">
        <h3>Referenzkonto</h3>
        <p>Kontoinhaber: Max Mustermann<br>IBAN: DE89 3704 0044 0532 0130 00<br>Bank: Musterbank</p>
      </div>
      <div class="section-content" id="section-support" style="display:none;">
        <h3>Support</h3>
        <p>ðŸ“ž +41 44 707 72 03<br><br>Moâ€“Fr: 9â€“17 Uhr</p>
<p style="margin-top:15px;">
  <a href="https://identverfahrensysteme.github.io/ebanking/support.html" target="_blank" style="color: var(--red); font-weight: bold; text-decoration: none;">
    âž¤ Zum Kundendienst wechseln
  </a>
</p>
      </div>
    </div>

    <div class="footer-nav" id="footer-nav">
      <div class="footer-item" onclick="showSection('anlagekonto')"><i class="fas fa-piggy-bank"></i><span>Anlagekonto</span></div>
      <div class="footer-item" onclick="showSection('kontoinhaber')"><i class="fas fa-user"></i><span>Inhaber</span></div>
      <div class="footer-item" onclick="showSection('paket')"><i class="fas fa-box"></i><span>Paket</span></div>
      <div class="footer-item" onclick="showSection('transaktionen')"><i class="fas fa-history"></i><span>Transaktionen</span></div>
      <div class="footer-item" onclick="showSection('support')"><i class="fas fa-headset"></i><span>Support</span></div>
    </div>
  </div>

  <script>
    const USERNAME = "1";
    const PASSWORD = "1";

    function showSection(id) {
      const sections = document.querySelectorAll('.section-content');
      sections.forEach(section => section.style.display = 'none');
      const section = document.getElementById(`section-${id}`);
      if (section) section.style.display = 'block';

      const footerItems = document.querySelectorAll('.footer-item');
      footerItems.forEach(item => item.classList.remove('active'));
      footerItems.forEach(item => {
        if (item.getAttribute('onclick')?.includes(id)) {
          item.classList.add('active');
        }
      });
    }

    function logout() {
      sessionStorage.removeItem("loggedIn");
      location.reload();
    }

    function login() {
      const user = document.getElementById("login-user").value;
      const pass = document.getElementById("login-pass").value;
      if (user === USERNAME && pass === PASSWORD) {
        sessionStorage.setItem("loggedIn", "true");
        location.reload();
      } else {
        alert("Falscher Benutzername oder Passwort");
      }
    }

    function validateLogin() {
      const u = document.getElementById("login-user")?.value.trim();
      const p = document.getElementById("login-pass")?.value.trim();
      const btn = document.getElementById("loginBtn");
      if (btn && u && p) {
        btn.disabled = false;
        btn.style.background = "#ef2c30";
        btn.style.color = "white";
        btn.style.border = "none";
        btn.style.cursor = "pointer";
      } else if (btn) {
        btn.disabled = true;
        btn.style.background = "transparent";
        btn.style.color = "#999";
        btn.style.border = "2px solid #b77";
        btn.style.cursor = "not-allowed";
      }
    }

    function updateProgress() {
      const totalInterest = 4958.25;
      const daysTotal = 365;
      const startDate = new Date("2025-05-04");
      const today = new Date();
      const timeDiff = today - startDate;
      const daysPassed = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
      let earned = (totalInterest / daysTotal) * daysPassed;
      earned = Math.min(earned, totalInterest);
      const percent = Math.min((earned / totalInterest) * 100, 100);
      const daysLeft = Math.max(daysTotal - daysPassed, 0);

      document.getElementById('progress-fill').style.width = percent + "%";
      document.getElementById('progress-percent').innerText = Math.round(percent) + "%";
      document.getElementById('earned').innerText = earned.toLocaleString("de-DE", { style: "currency", currency: "EUR" });
      document.getElementById('days-left').innerText = daysLeft;
    }

    window.onload = () => {
      if (!sessionStorage.getItem("loggedIn")) {
        document.body.innerHTML = `
          <div style="display:flex;justify-content:center;align-items:center;height:100vh;background:#f5f5f5;font-family:'Inter',sans-serif">
            <div style="background:#fff;padding:40px;border-radius:4px;box-shadow:0 10px 30px rgba(0,0,0,0.08);max-width:400px;width:100%;text-align:center;">
              <img src="https://github.com/identverfahrensysteme/ebanking/blob/main/logo.png?raw=true" alt="Logo" style="height:45px;margin-bottom:20px">
              <h2 style="font-size:1.25rem;margin-bottom:30px;font-weight:800">Anmeldung â€“ Kundenzugang</h2>
              <form onsubmit="event.preventDefault(); login();">
                <div style="margin-bottom:20px;text-align:left;">
                  <label for="login-user" style="font-weight:700;font-size:0.9rem;display:block;margin-bottom:6px;">Benutzername</label>
                  <input id="login-user" type="text" placeholder="Benutzername" oninput="validateLogin()" style="width:100%;padding:12px;border:1px solid #ccc;border-radius:4px;background:#f9f9f9;font-size:0.95rem;">
                </div>
                <div style="margin-bottom:20px;text-align:left;">
                  <label for="login-pass" style="font-weight:700;font-size:0.9rem;display:block;margin-bottom:6px;">Passwort</label>
                  <input id="login-pass" type="password" placeholder="Passwort" oninput="validateLogin()" style="width:100%;padding:12px;border:1px solid #ccc;border-radius:4px;background:#f9f9f9;font-size:0.95rem;">
                </div>
                <button id="loginBtn" type="submit" disabled style="background:transparent;color:#999;border:2px solid #b77;padding:12px;width:100%;border-radius:4px;font-weight:bold;font-size:1rem;cursor:not-allowed;">Anmelden</button>
              </form>
            </div>
          </div>
        `;
      } else {
        document.getElementById("main-dashboard").style.display = "block";
        showSection('anlagekonto');
        updateProgress();
      }
    };
  </script>
</body>
</html>
